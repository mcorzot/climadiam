% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/getwsVariablesEstacionesListRaw.R
\name{getwsVariablesEstacionesListRaw}
\alias{getwsVariablesEstacionesListRaw}
\title{Obtener la lista de estaciones asociadas a una variable con reintentos}
\usage{
getwsVariablesEstacionesListRaw(
  varpkvar,
  idsesion,
  retries = 3,
  wait = 2,
  timeout_sec = 5
)
}
\arguments{
\item{varpkvar}{Character. Identificador de la variable (VARPKVAR) según el catálogo del servicio CLIMA.}

\item{idsesion}{Character. Identificador de sesión válido proporcionado por \code{getwsIDSesion}.}

\item{retries}{Integer. Número máximo de intentos (por defecto 3).}

\item{wait}{Numeric. Tiempo de espera entre reintentos en segundos (por defecto 2).}

\item{timeout_sec}{Numeric. Tiempo máximo de espera por la respuesta del servicio SOAP en segundos (por defecto 5).}
}
\value{
Un \code{data.frame} con las columnas:
\itemize{
  \item \code{ESTPKEST} — Identificador interno de la estación.
  \item \code{EXISTENDATOS} — Indicador de disponibilidad de datos.
  \item \code{FACTOR} — Factor de corrección o calibración.
  \item \code{LIMITEVAL} — Límite de validación.
  \item \code{ORIGEN} — Origen de los datos.
  \item \code{PKVPE} — Identificador del vínculo variable-estación.
  \item \code{RANGOINFERIOR} — Rango inferior permitido para la variable.
  \item \code{RANGOSUPERIOR} — Rango superior permitido para la variable.
  \item \code{VARPKVAR} — Identificador interno de la variable asociada.
}
Si tras todos los intentos no se encuentra información, lanza un error.
}
\description{
Consulta el servicio web CLIMA de la Junta de Andalucía y devuelve un
\code{data.frame} con los identificadores internos de las estaciones que
registran datos para una variable determinada.
La función reintenta automáticamente si la llamada falla, si el XML es inválido,
o si no se encuentra información (`nrow(df) == 0`).
}
\examples{
\dontrun{
idsesion <- getwsIDSesion("usuario","password")
varpkvar <- '1' # TI1
variables_estaciones <- getwsVariablesEstacionesListRaw(varpkvar, idsesion)
head(variables_estaciones)
}

}

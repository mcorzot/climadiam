% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/call_with_retry.R
\name{call_with_retry}
\alias{call_with_retry}
\title{Ejecutar una expresión con reintentos automáticos ante error}
\usage{
call_with_retry(expr, name, retries = 3, wait = 10)
}
\arguments{
\item{expr}{Expresión o llamada a evaluar (por ejemplo, \code{soap_get(url)}).}

\item{name}{Character. Nombre identificativo de la operación (usado en los mensajes
de advertencia y error para facilitar la depuración).}

\item{retries}{Integer. Número máximo de intentos (por defecto \code{2}).}

\item{wait}{Numeric. Tiempo de espera (en segundos) entre intentos (por defecto \code{1}).}
}
\value{
Devuelve el resultado de la expresión si se ejecuta correctamente.
Si todos los intentos fallan, se lanza un error con información descriptiva.
}
\description{
Función auxiliar que intenta ejecutar una expresión varias veces en caso de error
(por ejemplo, una llamada SOAP o HTTP que falle temporalmente).
Si todas las tentativas fallan, la función genera un error y **no devuelve un
valor vacío**, garantizando un control de flujo claro en las funciones que la usan.
}
\details{
Esta función es útil para funciones que realizan llamadas externas (por ejemplo,
servicios SOAP o API REST) que pueden fallar de forma intermitente.
Detecta errores usando \code{try()} y vuelve a intentar la ejecución el número de
veces especificado por \code{retries}.
En caso de éxito, devuelve el resultado original sin modificar.
}
\examples{
\dontrun{
result <- call_with_retry({
  soap_get("http://servidor/prueba?param=x")
}, name = "soap_get(prueba)", retries = 3, wait = 10)
}

}
\keyword{internal}
